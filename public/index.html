<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="format-detection" content="telephone=no" />
  <title>COBAKE App</title>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-523D4PW9J4"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-523D4PW9J4');
  </script>

  <!-- favicon -->
  <link rel="icon" href="./favicon.ico" sizes="any">
  <link rel="icon" href="./favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="./favicon.ico">

  <link rel="stylesheet" href="./css/style.css" />
</head>

<body>
  <main class="app" id="app">

    <!-- START -->
    <section class="screen is-active" id="screenStart" aria-label="start">
      <div class="start-layer" id="startLayer">

        <!-- base (START only) -->
        <img
          class="start-bg"
          id="startBg"
          src="/assets/ui/start_ui.png"
          alt="COBAKE Start"
        />

        <!-- popping cobakes (JS will inject) -->
        <div class="start-pop-area" id="startPopArea" aria-hidden="true"></div>

        <!-- floating ghost icon -->
        <!-- NOTE: obake_ikon.png が存在しないため無効化（404防止） -->
        <!-- <img class="start-ghost" src="/assets/img/cobake/color/obake_ikon.png" alt="" aria-hidden="true" /> -->

        <!-- start button (hidden until pop done) -->
        <button class="start-btn" id="startBtn" type="button" aria-label="start" hidden>
          <img src="./button/start.png" alt="START" draggable="false" />
        </button>

        <!-- legal icons (bottom-right) -->
        <div class="legal-icons">
          <a href="./regulations/transactions.html" aria-label="特定取引商法">
            <img src="./button/tokusyo.png" alt="">
          </a>
          <a href="./regulations/terms_of_service.html" aria-label="利用規約">
            <img src="./button/riyoukiyaku.png" alt="">
          </a>
          <a href="./regulations/privacy_policy.html" aria-label="プライバシーポリシー">
            <img src="./button/privacy.png" alt="">
          </a>
        </div>
      </div>
    </section>

    <!-- GAME -->
    <section class="screen" id="screenGame" aria-label="game">
      <div class="stage" id="stage">

        <!-- base (GAME only) -->
        <img
          class="stage-bg"
          id="gameBg"
          src="/assets/img/cobake/ui/game_green.png"
          alt="COBAKE Game"
        />

        <!-- dokokana button (hidden at first) -->
        <button class="dokokana-btn" id="dokokanaBtn" hidden aria-label="コバケどこかな？">
          <img src="./button/dokokana_button.png" alt="コバケどこかな？" draggable="false" />
        </button>

        <!-- right top: character drawer button -->
        <button class="icon-btn icon-top-right" id="ghostBtn" aria-label="characters">
          <img src="./button/charabutton.png" alt="" draggable="false" />
        </button>

        <!-- right bottom: pause/back button -->
        <button class="icon-btn icon-bottom-right" id="menuBtn" aria-label="menu">
          <img src="./button/backbutton.png" alt="" draggable="false" />
        </button>

        <!-- right drawer -->
        <aside class="drawer" id="drawer" aria-label="cobake list" hidden>
          <div class="drawer-inner">
            <div class="drawer-items" id="cobakeList"></div>
          </div>
        </aside>

        <!-- menu popup -->
        <div class="popup" id="popup" hidden>
          <!-- きゅうけい：不要だがJS参照があるためDOMは残し、常時非表示 -->
          <button class="popup-item" id="resumeBtn" type="button" aria-label="きゅうけい" hidden>
            <img src="./button/kyuukei.png" alt="きゅうけい" draggable="false" />
          </button>

          <button class="popup-item" id="quitBtn" type="button" aria-label="やめる">
            <img src="./button/yameru.png" alt="やめる" draggable="false" />
          </button>
        </div>

      </div>
    </section>

  <!-- regulations popup -->
  <div class="reg-popup" id="regPopup" hidden>
    <div class="reg-mask" id="regMask"></div>

    <div class="reg-panel">
      <div class="reg-header">
        <div class="reg-title" id="regTitle">Regulations</div>
        <button class="reg-close" id="regClose" aria-label="close">×</button>
      </div>

      <iframe
        class="reg-frame"
        id="regFrame"
        src=""
        title="regulations"
      ></iframe>
    </div>
  </div>
</main>

  <script src="./js/cobake-data.js"></script>
  <script src="./js/app.js"></script>
</body>
</html>
